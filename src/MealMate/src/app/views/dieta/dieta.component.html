<div id="backgroundImage">
  <div class="fondo-morado-difuminado">
    <div class="container text-center">
      <h1 class="titulo text-white bg-dark bg-opacity-50 mx-5 text-center mb-5 py-2">TU DIETA</h1>
      <div class="table-responsive">
        <table class="table table-striped table-hover text-center" *ngIf="dietas.length > 0">
          <thead class="fondo-rosa-oscuro">
            <tr>
              <th></th>
              <th *ngFor="let dia of dietas">{{ dia.dia | uppercase}}</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let horario of ['desayuno', 'almuerzo', 'merienda', 'cena']; let i = index">
              <tr id="filaDieta" [ngClass]="{ 'fondo-rosa': i % 2 === 0, 'fondo-blanco': i % 2 !== 0 }">
                <th>{{ horario | uppercase}}</th>
                <td *ngFor="let dia of dietas" (click)="seleccionarComida(obtenerComidaPorHorario(dia.dieta, horario))">
                  {{ obtenerComidaPorHorario(dia.dieta, horario)?.nombre | uppercase}}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
      <div *ngIf="comidaSeleccionada" class="mt-3 p-4 rounded bg-white bg-opacity-75" style="width: fit-content;">
        <h2 class="mb-3 col bg-white rounded shadow px-3">
          <i class="fa-sharp fa-solid fa-apple-whole fa-bounce" style="color: #ff0505;"></i>
          INFORMACIÓN NUTRICIONAL:
          {{ comidaSeleccionada.nombre }}
        </h2>
        <ul class="bg-white rounded shadow px-3" style="width: fit-content;">
          <li><strong>Nombre:</strong> {{ comidaSeleccionada.nombre }}</li>
          <li><strong>Calorías:</strong> {{ comidaSeleccionada.calorias }}</li>
          <li><strong>Proteínas:</strong> {{ comidaSeleccionada.proteinas }}</li>
          <li><strong>Carbohidratos:</strong> {{ comidaSeleccionada.carbohidratos }}</li>
          <li><strong>Grasas:</strong> {{ comidaSeleccionada.grasas }}</li>
          <li><strong>Fibras:</strong> {{ comidaSeleccionada.fibras }}</li>
        </ul>
      </div>
    </div>
    <div *ngIf="dietas.length === 0">
      <h4 class="my-3">Aún no tienes ninguna dieta generada</h4>
      <button class="btn btn-outline-dark text-white" (click)="generarDieta()">Generar Dietas</button>
    </div>
  </div>
</div>
